---
layout: post
title: 使用pdb调试Python程序
categories: python之基础
tags: pdb python 调试
---

##说明

python自带pdb库，使用pdb调试python程序还是很方便的。但是远程调试、多线程，pdb是搞不定的

本文参考的相关文章如下：

* [《指针和字符串和字符串常量、用gdb来获取非法内存中的内容》](http://www.xumenger.com/pointer-string-const-gdb/)
* [《Linux gdb调试器用法全面解析》](http://www.xumenger.com/linux-gdb-debug/)
* [《用PDB库调试Python程序》](http://www.cnblogs.com/dkblog/archive/2010/12/07/1980682.html)

##用pdb调试有多种方式

###命令行加-m参数

命令行启动目标程序，加上-m参数，这样调用testPdb.py的话断点就是程序执行的第一行之前

```
python -m pdb testPdb.py
```

###在python交互环境调试

```
>>> import pdb
>>> import testPdb
>>> pdb.run('testPdb.test()')
```

###代码中插入一段程序

比较常用的，就是在程序中间插入一段程序，相对于在一般IDE 里面打上断点然后启动debug，不过这种方式是hardcode的

```
if __name__ == "__main__":
  a = 1
  import pdb
  pdb.set_trace()
  b = 2
  c = a + b
  print(c)
```

然后正常运行脚本：`python testPdb.py`到了pdb.set_trace()那里就会定下来，然后就可以看到调试的提示符(Pdb)了

针对上面的这段小程序的调试情况如下：

![imge](../media/image/2016-08-17/01.png)