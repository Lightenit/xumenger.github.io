---
layout: post
title: Delphi通过互斥量控制跨进程的多线程
categories: delphi之多进程 delphi之多线程
tags: delphi 互斥量 多进程 多线程 线程同步
---

在上文[Delphi通过互斥量控制进程启动](http://www.xumenger.com/delphi-mutex-01-20160121/)中已经强调过了，所谓的使用互斥量控制进程启动其实就是使用互斥量控制进程的主线程，其实本质就是使用互斥量控制线程，更本质的说法就是使用互斥量控制跨进程的线程。

继续介绍一下几种线程控制的方式：

* 临界区：建议使用这个可以更方便的申请，更快，更好用，平时这个控制方法完全可以满足绝大多数多线程访问资源的要求。另外下面的三种都是内核级的资源，而临界区不是，所以如果要使用的话，为了速度的考虑一般使用临界区就够了。只不过对于其他的特殊场景才可能需要根据具体情况选择下面三个的一种
* 互斥对象：通过命名保证互斥对象的在整个操作系统上的唯一，可以进行跨进程的线程控制，试试写一个demo控制跨进程的线程的控制，现在要有3个博客：互斥量控制进程启动、互斥量控制线程启动、互斥量控制线程运行
* 事件对象：
* 信号量对象：使用的比较少，它是计数的，比如这样的场景：有十份资源，那么信号量的计数是10，线程1来要求资源，则给它一个，计数减一……假如最后第十一个线程来要求资源因为现在计数为0，那么第十一个线程只能等待

上面说到，除了临界区之外的其他三种都是内核级的资源，所以内核级的资源是可以跨进程的！互斥量是内核级的资源，所以可以跨进程来控制线程！
