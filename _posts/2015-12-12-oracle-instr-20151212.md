---
layout: post
title: Oracle中的instr函数
categories: 数据库之oracle 数据库之sql
tags: oracle sql 数据库
---

###函数简单说明

```
instr(string1,string2[,start_position[,nth_appearence]])
```

* string1：要在此字符串中查找。
* string2：要在string1中查找的字符串。
* start_position：从string1开始查找的位置。可选，默认为1，正数时，从左到右检索，负数时，从右到左检索。
* nth_appearence：查找第几次出现string2。可选，默认为1，不能为负。
* 注：如果没有查找到，返回0。

###例子最直接

```
select instr('xumenger','x') from dual;　　--返回1
select instr('abcd','c') from dual;　　--返回3
select instr('testa','z') from dual;　   --返回0
```

该函数可以用于模糊查询以及判断包含关系：

例如：

```
select code, name, dept, occupation  from staff  where instr(code, '001') > 0;
```

等同于

```
select code, name, dept, occupation  from staff  where code like '%001%' ;
```

再比如

```
select ccn,mas_loc from mas_loc where instr('FH,FHH,FHM',ccn)>0;
```

等同于

```
select ccn,mas_loc from mas_loc where ccn in ('FH','FHH','FHM');
```
