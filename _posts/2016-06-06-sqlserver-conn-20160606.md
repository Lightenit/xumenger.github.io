---
layout: post
title: SQL Server的连接
categories:  delphi之数据库 数据库之sql 数据库之sqlserver
tags: delphi oracle SQLServer 数据库 数据库连接  
---

##扩展资料

* [《亲测SQLServer的最大连接数》](http://www.cnblogs.com/wlb/archive/2012/04/08/2437617.html)
* [《SQL Server 和 Oracle 以及 MySQL 有哪些区别？》](https://www.zhihu.com/question/19866767)
* [《SQL Server 查询性能优化 相关文章》](http://www.cnblogs.com/xcsn/p/4929724.html)
* [《W3School SQL 教程》](http://www.w3school.com.cn/sql/index.asp)

##提前了解

* 获取当前SQL Server连接数配置：
  * `select value from  master.dbo.sysconfigures where [config]=103`
  * 默认是0，代表不限制，但最大连接数是32767
* 设置SQL Server的最大连接数限制
  * `exec sp_configure 'show advanced options', 1` 
  * 用以表示显示sp_configure 系统存储过程高级选项，使用user connections 时，要求show advanced options 值为1
  * 执行`RECONFIGURE`语句使之生效
  * `exec sp_configure 'user connections', 100`
  * 用以配置最大连接数为100
  * 执行`RECONFIGURE`语句使之生效
  * **但是此时并没有真正生效，需要重启SQL Server的服务才能生效**
* 更多有用的SQL命令介绍
  * 查看已经使用的连接数个数：`select count(*) from sys.dm_exec_connections`
  * 查看当前所有连接的详细信息：`select * from sys.dm_exec_connections`
  * 查看当前有多少会话：`select count(*) from sys.dm_exec_sessions`
  * 一个连接可以有多个会话
  * 查看当前所有会话的详细信息：`select * from sys.dm_exec_sessions`
  
##

